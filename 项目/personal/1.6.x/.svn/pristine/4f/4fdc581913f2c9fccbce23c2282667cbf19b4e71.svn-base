<?xml version="1.0" encoding="GBK"?>
<!--
  ~ $Revision: 13 $
  ~ $Date: 2010-11-26 13:04:02 +0800 (æ˜ŸæœŸäº”, 26 åä¸€æœˆ 2010) $
  ~
  ~ Copyright (C) 2009 Alex Lin. All rights reserved.
  ~
  ~
-->
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
  xmlns:os="http://www.opoo.org/schema/security" 
  elementFormDefault="qualified"
  targetNamespace="http://www.opoo.org/schema/security"
  >
  <!-- 
  <attributeGroup name="entry-point.attlist">
    <attribute name="pattern" use="required" type="string">
      <annotation>
        <documentation><![CDATA[
        	¶¨ÒåÒ»¸ö URL Â·¾¶£¬·ûºÏ¸ÃÂ·¾¶µÄ URL ½«²ÉÓÃÖ¸¶¨µÄ loginFormUrl µÇÂ¼¡£
        ]]></documentation>
      </annotation>
    </attribute>
    <attribute name="login-page" use="required" type="string">
      <annotation>
        <documentation>µÇÂ¼Ò³Ãæ¡£</documentation>
      </annotation>
    </attribute>
  </attributeGroup>
  
  

 <element name="entry-points">
    <annotation>
      <documentation>¶¨ÒåÒ»×é EntryPoint¡£</documentation>
    </annotation>
    <complexType>
      <sequence>
        <element maxOccurs="unbounded" name="entry-point">
          <annotation>
            <documentation>Ö¸¶¨Ò»¸ö EntryPoint¡£</documentation>
          </annotation>
          <complexType>
            <attributeGroup ref="os:entry-point.attlist"/>
          </complexType>
        </element>
      </sequence>
      <attribute name="id" type="ID">
       <annotation>
        <documentation>A bean identifier, used for referring to the bean elsewhere in the context.</documentation>
       </annotation>
     </attribute>
    </complexType>
  </element>
  -->
  
  <simpleType name="boolean">
    <restriction base="token">
      <enumeration value="true"/>
      <enumeration value="false"/>
    </restriction>
  </simpleType>
  
  <attributeGroup name="form-login.attlist">
    <attribute name="pattern" type="string" use="required">
      <annotation>
        <documentation><![CDATA[¶¨ÒåÒ»¸ö URL Â·¾¶£¬·ûºÏ¸ÃÂ·¾¶µÄ URL ½«²ÉÓÃÖ¸¶¨µÄ loginFormUrl µÇÂ¼¡£]]></documentation>
      </annotation>
    </attribute>
    <attribute name="target-url" type="string">
      <annotation>
        <documentation><![CDATA[·ûºÏ URL Â·¾¶µÄµÇÂ¼ºóµÄÄ¿±ê URL¡£]]></documentation>
      </annotation>
    </attribute>
    <attribute name="login-page" type="string">
      <annotation>
        <documentation><![CDATA[µÇÂ¼Ò³Ãæ¡£]]></documentation>
      </annotation>
    </attribute>
  </attributeGroup>
  
  <attributeGroup name="form-login-entry-point.attlist">
  	<attribute name="id" type="ID" use="required">
       <annotation>
        <documentation>A bean identifier, used for referring to the bean elsewhere in the context.</documentation>
       </annotation>
      </attribute>
      <attribute name="login-page" type="string" use="required">
      	<annotation>
      		<documentation><![CDATA[µÇÂ¼Ò³Ãæ¡£]]></documentation>
      	</annotation>
      </attribute>
      <attribute name="always-use-default-target" type="os:boolean">
      	<annotation>
      		<documentation><![CDATA[Ê¹ÓÃÊ¼ÖÕÊ¹ÓÃÄ¬ÈÏµÄÄ¿±ê URL¡£]]></documentation>
      	</annotation>
      </attribute>
      <attribute name="force-https" type="os:boolean">
      	<annotation>
      		<documentation><![CDATA[Ê¹ÓÃHttps¡£]]></documentation>
      	</annotation>
      </attribute>
  </attributeGroup>
  
  
  <element name="form-login-entry-point">
  	<annotation>
      <documentation>¶¨ÒåÒ»¸öFormLogin µÄ EntryPoint¡£</documentation>
    </annotation>
    <complexType>
      	
      	<choice minOccurs="0" maxOccurs="unbounded">
    		<element ref="os:form-login-map" maxOccurs="1"></element>
    	</choice>
        <attributeGroup ref="os:form-login-entry-point.attlist"></attributeGroup>
      	
<!--      	<element name="form-login">-->
<!--      		<annotation>-->
<!--      			<documentation>Form Login Definition.</documentation>-->
<!--      		</annotation>-->
<!--  			<complexType>-->
<!--				<attributeGroup ref="os:form-login.attlist"></attributeGroup>-->
<!--  			</complexType>-->
<!--      	</element>-->
    </complexType>
  </element>

    <element name="form-login-map">
  	<annotation>
  		<documentation>Form Login Map</documentation>
  	</annotation>
  	<complexType> 
  		<sequence>
  			<choice minOccurs="1" maxOccurs="unbounded">
  				<element name="form-login">
		      		<annotation>
		      			<documentation>Form Login Definition.</documentation>
		      		</annotation>
		  			<complexType>
						<attributeGroup ref="os:form-login.attlist"></attributeGroup>
		  			</complexType>
		      	</element>
  			</choice>
  		</sequence>
  		
  	  <attribute name="path-type">
      	<annotation>
      		<documentation><![CDATA[±È½ÏÄ£Ê½]]></documentation>
      	</annotation>
      	<simpleType>
      		<restriction base="token">
      			<enumeration value="ant"></enumeration>
      			<enumeration value="regex"></enumeration>
      		</restriction>
      	</simpleType>
      </attribute>
      
      <attribute name="lowercase-comparisons" type="os:boolean">
      	<annotation>
			<documentation>Whether test URLs should be converted to lower case prior to comparing
          with defined path patterns. If unspecified, defaults to "true".</documentation>      	
      	</annotation>
      </attribute>

	  <attribute name="strip-query-string-from-urls" type="os:boolean">
	  	<annotation>
			<documentation></documentation>	  	
	  	</annotation>
	  </attribute>
  	</complexType>
  </element>
</schema>